<!doctype html><html lang="ko"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<link rel="stylesheet" href="/src/admin/assets/css/style.css"/>
<title>QR 생성</title>
</head><body>
<div class="container">
  <h1>QR 생성 (브라우저 로컬)</h1>
  <div><label>테이블번호</label><input id="table" placeholder="12"/></div>
  <div><label>기본 URL</label><input id="base"/></div>
  <div style="margin:8px 0">
    
    <button id="dl">PNG 다운로드</button>
  </div>
  <canvas id="c" width="240" height="240" style="background:#fff;border-radius:8px"></canvas>
</div>
<script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
<script>
const c=document.getElementById('c');
const base=document.getElementById('base');
base.value = location.origin + '/order/store';
document.getElementById('gen').onclick = ()=>{
  const url = (base.value||'').replace(/\/$/,'') + '?table=' + encodeURIComponent(document.getElementById('table').value||'');
  QRCode.toCanvas(c, url, {width:240, margin:1});
};
document.getElementById('dl').onclick = ()=>{
  const a=document.createElement('a'); a.href=c.toDataURL('image/png'); a.download='qr.png'; a.click();
};
</script>

<!-- QR 탭 (cleaned & replaced) -->

<!-- QR 탭 (clean) -->
<div id="tab-qr" class="tab-content" style="display:none">
  <h2>QR 생성</h2>
  <div class="qr-inputrow" style="display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap;margin:10px 0 16px">
    <div>
      <label for="qr-table-input" style="font-size:12px;color:#bfc7d5;display:block;margin-bottom:6px">테이블 번호</label>
      <input id="qr-table-input" type="number" min="1" step="1" placeholder="테이블번호 입력"
             style="background:#12141a;border:1px solid #2b2f3a;color:#fff;border-radius:10px;padding:10px 12px;font-size:14px;min-width:200px">
    </div>
    
  </div>
  <div id="qr-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:16px"></div>
</div>

    
  </div>
  <div id="qr-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:16px"></div>
</div>
<script src="assets/js/admin-qr.js"></script>
</body></html>
