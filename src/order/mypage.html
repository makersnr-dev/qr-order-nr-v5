<!doctype html><html lang="ko"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<link rel="stylesheet" href="/src/admin/assets/css/style.css"/>
<title>마이페이지</title></head><body>
<div class="container">
  <div class="hstack" style="justify-content:space-between">
    <h1>마이페이지</h1>
    <a class="btn" href="/src/order/delivery.html">← 주문으로 돌아가기</a>
  </div>
  <div class="card vstack">
    <h3>내 주문 내역</h3>
    <div id="list"></div>
  </div>
</div>
<script type="module">
import {get} from '/src/order/assets/js/modules/cust-store.js';
const list=document.getElementById('list');
const orders=(get(['admin','ordersDelivery'])||[]);
if(!orders.length){ list.innerHTML='<div class="small">주문 내역이 없습니다.</div>'; }
orders.slice().reverse().forEach(o=>{
  const div=document.createElement('div'); div.className='vstack';
  div.style.border='1px solid #263241'; div.style.borderRadius='12px'; div.style.padding='10px'; div.style.margin='6px 0';
  const items=(o.items||[]).map(i=>i.name+'x'+i.qty).join(', ');
  div.innerHTML=`<div class="hstack" style="justify-content:space-between"><b>${o.type==='RESV'?'예약':'배달'}</b><span class="small">${new Date(o.time).toLocaleString()}</span></div>
  <div class="small">${o.addr||''}</div>
  <div class="small">예약: ${o.reserve||'-'}</div>
  <div>${items}</div>
  <div><b>${(o.total||0).toLocaleString()}원</b> · 상태: ${o.status||'-'}</div>`;
  list.appendChild(div);
});
</script></body></html>
