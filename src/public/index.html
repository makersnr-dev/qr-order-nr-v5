<!doctype html>
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="/src/admin/assets/css/style.css" />
  <title>๋งค์ฅ ๊ด๋ฆฌ์ ๋งคํ</title>
</head>

<body>
  <div class="container">
    <h1>๋งค์ฅ ๊ด๋ฆฌ์ ๋งคํ</h1>

    <!-- ๋ก๊ทธ์ธ ์ํ / ๋ก๊ทธ์์ -->
    <div id="super-status" class="hstack" style="justify-content:space-between;align-items:center;margin-bottom:12px">
      <div id="super-status-text" class="small"></div>
      <button id="super-logout" class="btn small" style="display:none">
        SUPER ๋ก๊ทธ์์
      </button>
    </div>

    <!-- SUPER ๋ก๊ทธ์ธ ์นด๋ (์ฒ์์๋ง ๋ณด์) -->
    <div id="super-login-card" class="card vstack" style="display:none;max-width:420px;margin-bottom:16px">
      <h3>SUPER ๋ก๊ทธ์ธ</h3>
      <div class="vstack" style="gap:8px;margin-top:8px">
        <input id="super-id" class="input" placeholder="์์ด๋">
        <input id="super-pw" class="input" type="password" placeholder="๋น๋ฐ๋ฒํธ">
        <button id="super-login-btn" class="btn primary">๋ก๊ทธ์ธ</button>
        <div id="super-login-msg" class="small" style="color:#f97316;margin-top:4px"></div>
      </div>
    </div>

    <!-- ๋ฉ์ธ ์ปจํ์ธ (๋ก๊ทธ์ธ ํ ๋ณด์) -->
    <div id="main-content" style="display:none">

      <!-- ํญ ๋ค๋น๊ฒ์ด์ -->
      <div class="hstack" style="gap:10px;margin-bottom:16px;border-bottom:1px solid #e5e7eb;padding-bottom:10px">
        <button id="tab-btn-store" class="btn" style="flex:1">๋งค์ฅ ๊ด๋ฆฌ</button>
        <button id="tab-btn-register" class="btn" style="flex:1">๊ด๋ฆฌ์ ๋ฑ๋ก</button>
        <button id="tab-btn-mapping" class="btn" style="flex:1">๋งคํ ๊ด๋ฆฌ</button>
      </div>

      <!-- 1. ๋งค์ฅ ๊ด๋ฆฌ ํญ -->
      <div id="section-store" style="display:none">
        <div class="card vstack">
          <h3>๋งค์ฅ ์๋ณด ๊ด๋ฆฌ</h3>
          <div class="small" style="margin-bottom:8px">๋งค์ฅ๋ช/์ฝ๋๋ก ๊ฒ์ํ์ฌ ๊ด๋ฆฌํฉ๋๋ค.</div>

          <!-- ๊ฒ์ ๋ฐ ์๋ฅ ํผ -->
          <div class="hstack"
            style="gap:8px;margin-bottom:12px;padding-bottom:12px;border-bottom:1px dashed #e5e7eb;align-items:center">
            <input id="store-search-input" class="input" placeholder="๋งค์ฅ๋ช ๋๋ ID๋ก ๊ฒ์" style="flex:1;max-width:300px">
            <button id="store-search-btn" class="btn">๊ฒ์</button>
            <button id="store-clear-btn" class="btn small">์ด๊ธฐํ</button>
          </div>

          <!-- ๋งค์ฅ ์์ฑ/์์ ์๋ฅ -->
          <div class="hstack"
            style="gap:10px;flex-wrap:wrap;background:#0b1620;padding:12px;border-radius:8px;align-items:flex-end;border:1px solid var(--border)">
            <div class="vstack" style="gap:4px;flex:1;min-width:200px">
              <label class="small" style="color:#9fb0c0">Store ID</label>
              <input id="store-id" class="input" placeholder="์: narae" style="width:100%">
            </div>

            <div class="vstack" style="gap:4px;flex:2;min-width:250px">
              <label class="small" style="color:#9fb0c0">๋งค์ฅ๋ช</label>
              <input id="store-name" class="input" placeholder="์: ๋๋์นดํ ๊ฐ๋จ์" style="width:100%">
            </div>

            <div class="vstack" style="gap:4px;width:100px">
              <label class="small" style="color:#9fb0c0">์ฃผ๋ฌธ์ฝ๋</label>
              <input id="store-code" class="input" placeholder="์: NR" style="width:100%">
            </div>

            <button id="store-save" class="btn primary" style="height:42px;margin-bottom:1px">์์ฅ</button>
          </div>

          <table class="table" style="margin-top:16px">
            <thead>
              <tr>
                <th style="width:30%">storeId</th>
                <th style="width:40%">๋งค์ฅ๋ช</th>
                <th style="width:20%">์ฃผ๋ฌธ ์ฝ๋</th>
                <th style="width:10%" class="right">๊ด๋ฆฌ</th>
              </tr>
            </thead>
            <tbody id="store-body">
              <tr>
                <td colspan="4" class="small" style="text-align:center;padding:20px;color:#9fb0c0">๊ฒ์ ๋ฒํผ์ ๋๋ฌ ๋งค์ฅ ๋ชฉ๋ก์
                  ์กฐํํ์ธ์.</td>
              </tr>
            </tbody>
          </table>

          <!-- ํ์ด์ง๋ค์ด์ -->
          <div id="pagination-store" class="hstack" style="justify-content:center;gap:8px;margin-top:16px"></div>
        </div>
      </div>

      <!-- 2. ๊ด๋ฆฌ์ ๋ฑ๋ก ํญ -->
      <div id="section-register" style="display:none">
        <div id="admin-register-card" class="card vstack">
          <h3>์๊ท ๊ด๋ฆฌ์ ๋ฑ๋ก</h3>

          <div class="vstack" style="gap:16px">
            <!-- ID / ์ด๋ฆ -->
            <div class="hstack" style="gap:12px">
              <div class="vstack" style="flex:1">
                <label class="small">๊ด๋ฆฌ์ ID</label>
                <input id="new-admin-id" class="input" placeholder="user_id">
              </div>
              <div class="vstack" style="flex:1">
                <label class="small">์ด๋ฆ</label>
                <input id="new-admin-name" class="input" placeholder="ํ๊ธธ๋">
              </div>
            </div>

            <!-- ๋น๋ฐ๋ฒํธ / ๋งค์ฅ์ํ -->
            <div class="hstack" style="gap:12px">
              <div class="vstack" style="flex:1">
                <label class="small">๋น๋ฐ๋ฒํธ</label>
                <input id="new-admin-pw" class="input" type="password" placeholder="4์ ์ด์">
              </div>
              <div class="vstack" style="flex:1;position:relative">
                <label class="small">๋งค์ฅ ์ํ</label>
                <input id="new-admin-store" class="input" placeholder="๊ฒ์..." autocomplete="off">
                <ul id="store-search-results"
                  style="display:none;position:absolute;top:100%;left:0;right:0;background:#111922;border:1px solid var(--border);max-height:200px;overflow-y:auto;z-index:99;">
                </ul>
              </div>
            </div>

            <!-- ์ฐ๋ฝ์ฒ -->
            <div class="hstack" style="gap:12px">
              <div class="vstack" style="flex:1">
                <label class="small">์ด๋ฉ์ผ (์ํ)</label>
                <input id="new-admin-email" class="input" type="email">
              </div>
              <div class="vstack" style="flex:1">
                <label class="small">์ํ๋ฒํธ (์ํ)</label>
                <input id="new-admin-phone" class="input">
              </div>
            </div>

            <button id="btn-register-admin" class="btn primary" style="margin-top:8px">๊ด๋ฆฌ์ ๋ฑ๋ก</button>
            <div id="register-result" style="font-size:14px;text-align:center"></div>
          </div>
        </div>

        <!-- ๐ค ๊ธฐ์กด ๊ด๋ฆฌ์ ๊ด๋ฆฌ ๋ชฉ๋ก ์ถ๊ฐ -->
        <div class="card vstack" style="margin-top:20px">
          <h3>๊ธฐ์กด ๊ด๋ฆฌ์ ๊ด๋ฆฌ</h3>
          <div class="small" style="margin-bottom:8px">๋ฑ๋ก๋ ๊ด๋ฆฌ์๋ฅผ ๊ฒ์ํ๊ณ ์ญ์ํ ์ ์์ต๋๋ค. (๋งคํ๋ ๋งค์ฅ์ด ์์ผ๋ฉด ์ญ์ ๋ถ๊ฐ)</div>

          <div class="hstack" style="gap:8px;margin-bottom:12px;align-items:center">
            <input id="admin-search-input" class="input" placeholder="๊ด๋ฆฌ์ ID ๋๋ ์ด๋ฆ์ผ๋ก ๊ฒ์" style="flex:1;max-width:300px">
            <button id="admin-search-btn" class="btn">๊ฒ์</button>
            <button id="admin-clear-btn" class="btn small">์ด๊ธฐํ</button>
          </div>

          <table class="table" style="margin-top:8px">
            <thead>
              <tr>
                <th style="width:25%">ID</th>
                <th style="width:25%">์ด๋ฆ</th>
                <th style="width:30%">๋ฑ๋ก์ผ</th>
                <th style="width:20%" class="right">๊ด๋ฆฌ</th>
              </tr>
            </thead>
            <tbody id="admin-list-body">
              <tr>
                <td colspan="4" class="small" style="text-align:center;padding:20px;color:#9fb0c0">๋ถ๋ฌ์ค๋ ์ค...</td>
              </tr>
            </tbody>
          </table>

          <div id="pagination-admin" class="hstack" style="justify-content:center;gap:8px;margin-top:16px"></div>
        </div>
      </div>

      <!-- 3. ๋งคํ ๊ด๋ฆฌ ํญ -->
      <div id="section-mapping" style="display:none">
        <div id="mapping-card" class="card vstack">
          <h3>๊ด๋ฆฌ์-๋งค์ฅ ๋งคํ ๊ด๋ฆฌ</h3>

          <div class="hstack" style="gap:8px;margin-bottom:12px;align-items:center">
            <input id="map-search-input" class="input" placeholder="๊ด๋ฆฌ์ID, ๋งค์ฅID ๋๋ ์ด๋ฆ์ผ๋ก ๊ฒ์"
              style="flex:1;max-width:300px">
            <button id="map-search-btn" class="btn">๊ฒ์</button>
            <button id="map-clear-btn" class="btn small">์ด๊ธฐํ</button>
          </div>

          <div class="hstack"
            style="gap:10px;flex-wrap:wrap;background:#0b1620;padding:12px;border-radius:8px;align-items:flex-end;border:1px solid var(--border)">
            <div class="vstack" style="gap:4px;flex:1;min-width:150px">
              <label class="small" style="color:#9fb0c0">๊ด๋ฆฌ์ ID</label>
              <input id="map-admin" class="input" placeholder="admin_id" style="width:100%">
            </div>
            <div class="vstack" style="gap:4px;flex:1;min-width:150px">
              <label class="small" style="color:#9fb0c0">Store ID</label>
              <input id="map-store" class="input" placeholder="store_id" style="width:100%">
            </div>
            <div class="vstack" style="gap:4px;flex:2;min-width:200px">
              <label class="small" style="color:#9fb0c0">๋ฉ๋ชจ</label>
              <input id="map-note" class="input" placeholder="๋ฉ๋ชจ (์ํ)" style="width:100%">
            </div>
            <button id="map-add" class="btn primary" style="height:42px;margin-bottom:1px">์์ฅ</button>
          </div>

          <table class="table" style="margin-top:16px">
            <thead>
              <tr>
                <th style="width:30%">๊ด๋ฆฌ์ ID</th>
                <th style="width:30%">Store ID</th>
                <th style="width:25%;text-align:center">์ํ</th>
                <th style="width:15%" class="right">๊ด๋ฆฌ</th>
              </tr>
            </thead>
            <tbody id="map-body">
              <tr>
                <td colspan="4" class="small" style="text-align:center;padding:20px;color:#9fb0c0">๊ฒ์ ๋ฒํผ์ ๋๋ฌ ๋งคํ ๋ชฉ๋ก์
                  ์กฐํํ์ธ์.</td>
              </tr>
            </tbody>
          </table>

          <!-- ํ์ด์ง๋ค์ด์ -->
          <div id="pagination-mapping" class="hstack" style="justify-content:center;gap:8px;margin-top:16px"></div>
        </div>
      </div>

    </div>
  </div>

  <!-- SUPER JWT + ๋งค์ฅ ๋งคํ ์คํฌ๋ฆฝํธ -->
  <script type="module" src="/src/admin/assets/js/store-admin.js"></script>
</body>

</html>
